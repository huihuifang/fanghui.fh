<!--
  通过 HTML 快速实现自定义界面
  看更多帮助：https://bytedance.feishu.cn/docs/doccn2ZyvJaBEjA6u92LkaVMhBh
-->

<div id="test" class="slider">
  <img
    id="img1"
    src="https://seopic.699pic.com/photo/50047/4567.jpg_wh1200.jpg"
    class="current"
  />
  <img
    id="img2"
    src="https://seopic.699pic.com/photo/50056/3508.jpg_wh1200.jpg"
  />
  <img
    id="img3"
    src="https://seopic.699pic.com/photo/50773/0353.jpg_wh1200.jpg"
  />
</div>

<button class="cbtn" id="cbtn1">1</button>
<button class="cbtn" id="cbtn2">2</button>
<button class="cbtn" id="cbtn3">3</button>

<style>
  .slider {
    /* 指定轮播图容器尺寸, 相对定位, 隐藏溢出内容 */
    width: 1050px;
    height: 450px;
    position: relative;
    overflow: hidden;
  }

  .slider img {
    /* 指定每一个图片的尺寸, 过渡时间, 绝对定位 */
    width: 100%;
    height: 100%;
    transition: all 0.5s;
    position: absolute;
  }

  .slider img {
    /* 指定所有图片水平位移-100% */
    transform: translateX(-100%);
  }

  .slider img.current {
    /* 指定带有current类的图片不进行水平移动 */
    transform: translateX(0);
  }

  .slider img.current ~ img {
    /* 指定位于带有current类的图片之后的所有图片水平位移为100% */
    transform: translateX(100%);
  }

  .slider img.current,
  /* 指定带有current或last类的图片置顶 */
  .slider img.last {
    z-index: 999;
  }

  .cbtn {
    color: white;
    background: #4c8ffb;
    border: 1px #3079ed solid;
    box-shadow: inset 0 1px 0 #80b0fb;
    padding: 5px 10px;
    border-radius: 2px;
    font-weight: bold;
    font-size: 9pt;
    outline: none;
  }

  button:hover {
    border: 1px #2f5bb7 solid;
    box-shadow: 0 1px 1px #eaeaea, inset 0 1px 0 #5a94f1;
    background: #3f83f1;
  }

  button:active {
    box-shadow: inset 0 2px 5px #2370fe;
  }
</style>

<script>
  function getImages() {
    return document.getElementById("test").querySelectorAll("img"); // 搜找该页面下轮播图容器中的所有img
  }

  function getCurrent() {
    return document.getElementById("test").querySelector("img.current"); // 搜找该页面下轮播图容器中当前展示的img
  }

  function setCurrent(index) {
    var imgs = getImages();
    var cur = getCurrent();
    imgs.forEach((v) => (v.className = "")); // 清空所有图片的类名
    cur.className = "last"; // 设置当前展示的图片的类名为 "last", 意为: "上一次展示的图片"
    imgs[index].className = "current"; // 设置要设置的图片的类名为 "current"
  }

  function moveNext() {
    // 移动展示图片到下一个
    var imgs = getImages();
    var curIndex;
    for (curIndex = 0; curIndex < imgs.length; curIndex++) {
      if (imgs[curIndex].className == "current") {
        break;
      }
    }
    if (curIndex + 1 < imgs.length) {
      setCurrent(curIndex + 1);
    } else {
      setCurrent(0);
    }
  }
</script>

<script>
  setInterval(moveNext, 5000); // 每隔5s, 切换到下一张图片
  document.getElementById("cbtn1").addEventListener("click", function () {
    setCurrent(0);
  });
  document.getElementById("cbtn2").addEventListener("click", function () {
    setCurrent(1);
  });
  document.getElementById("cbtn3").addEventListener("click", function () {
    setCurrent(2);
  });
</script>
